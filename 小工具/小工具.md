

# 修改默认编译器

## clang/llvm

```bash
root@ubuntu:/home/~# which clang
/usr/local/bin/clang
root@ubuntu:/home/~# which clang++
/usr/local/bin/clang++

export CC=/usr/local/bin/clang
export CXX=/usr/local/bin/clang++
export CXXFLAGS=-stdlib=libc++
```

## gcc

```bash
export CC=/usr/local/bin/gcc
export CXX=/usr/local/bin/g++
```

# GIT

## tips

- 有时候git push失败，可能是git版本太低导致的。
- 

# linux上的环境

## clang环境变量

```bash
export PATH=/usr/local/LLVM-10.0.0/bin:$PATH
export PATH=$LLVM_HOME:$PATH:/usr/local/LLVM-10.0.0/lib:/usr/local/LLVM-10.0.0/include 
export CPLUS_INCLUDE_PATH=/usr/local/LLVM-10.0.0/include
export LD_LIBRARY_PATH=/usr/local/LLVM-10.0.0/lib
export CXXFLAGS=-stdlib=libc++

export CC=/usr/bin/gcc
export CXX=/usr/bin/g++
export CXXFLAGS=-std=c++17

export CC=/usr/local/LLVM-10.0.0/bin/clang
export CXX=/usr/local/LLVM-10.0.0/bin/clang++
export CXXFLAGS=-stdlib=libc++
```

## 安装并使用新版本的gcc

```bash
sudo add-apt-repository ppa:ubuntu-toolchain-r/test 
sudo apt-get update 
sudo apt-get install gcc-8
sudo apt-get install g++-8

# update-alternatives --install <链接> <名称> <路径> <优先级>
sudo update-alternatives --install /usr/bin/gcc gcc /usr/local/bin/gcc 50
sudo update-alternatives --install /usr/bin/g++ g++ /usr/local/bin/g++ 50
```

## 使用python3

```bash
echo alias python=python3 >> ~/.bashrc
source ~/.bashrc
```

# clion链接外部库

```cmake
include_directories("/usr/include/SDL2")
target_link_libraries(ProjectName "/usr/lib/x86_64-linux-gnu/libSDL.so")
```

# cmake

## 错误解决

- `undefined reference to llvm::EnableABIBreakingChecks`

  ```cmake
  find_package(LLVM REQUIRED CONFIG)
  
  message(STATUS "Found LLVM ${LLVM_PACKAGE_VERSION}")
  message(STATUS "Using LLVMConfig.cmake in: ${LLVM_DIR}")
  
  add_executable(main main.cpp)
  target_link_libraries(main LLVMSupport)
  ```

- `undefined reference totypeinfo for llvm::cl::Option'`

  在CMakeLists文件中加入以下命令：

  ```cmake
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fno-rtti")
  ```

- 

## 版本升级

```bash
# 需要先按照OpenSSL
sudo apt install libssl-dev

# 查看当前版本：
cmake --version

# 下载源码：
https://cmake.org/download/

# 解压缩并进入文件夹：
tar -xf cmake-3.22.0-rc2.tar.gz
cd cmake-3.22.0-rc2

# 编译安装：
./bootstrap
make
sudo make install
source ~/.bashrc

# 再次查看当前版本：
cmake --version
```

# Ubuntu 网卡消失

```bash
sudo service network-manager stop
sudo rm /var/lib/NetworkManager/NetworkManager.state
sudo service network-manager start
sudo gedit /etc/NetworkManager/NetworkManager.conf
（把false改成true）
sudo service network-manager restart
```

